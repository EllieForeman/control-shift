<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <div id="head"></div>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro&display=swap" rel="stylesheet">
    <!--  Stylesheet -->
    <link rel="stylesheet" type="text/css" href="styles/style.css">
</head>

<body>
    <div id="navbar"></div>
    <!--  Grid of artworks -->
    <div class="container home-page-content pt-4">
        <h1>Artworks</h1>
        <div class="padding-bottom" class="container">
            <div id="myData" class="row">
            </div>
        </div>
    </div>
    <!--  Modal  -->
    <div id="infoModal" class="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"></h5>
                    <button class="modal-close-button" data-dismiss="modal" aria-label="Close">
                        <div class="close-container">
                            <div class="leftright"></div>
                            <div class="rightleft"></div>
                        </div>
                    </button>
                </div>
                <div class="modal-body container">
                    <div class="row align-items-center">
                        <div class="col-lg">
                            <img class="col img-fluid pb-2" src="/img/artists-work/powertool-w600.jpg" style="width:100%">
                        </div>
                        <div class="col-lg">
                            <h1>Title of Artist</h1>
                            <p class="modal-text">Recent enforced measures for staying at home illuminate how some of the systems and structures that define how people experience the world can be disabling. Arjun and Benjamin are programming a series of performative walks using Power Tools to explore issues around power, presence, access, and inclusion. During limited outdoor time, pairs of walkers are invited to take part in remote discussions on the Social Model of Disability. Through opening up these discussions to wider audiences, Power Tools asks us to consider the importance of Accessibility in peopleâ€™s lives.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script>
        fetch('artworks.json')
            .then(function (response) {
                return response.json(); // Takes a Response stream & returns a promise that resolves with the result of parsing the body text as JSON.
            })
            .then(function (data) {
                appendData(data); // If successful, runs appendData function below
            })
            .catch(function (err) {
                console.log('error: ' + err); // catches error & console logs out the error message
            });
        function appendData(data) {
            let mainContainer = document.getElementById("myData");
            console.log("data", data);
            for (let i = 0; i < data.length; i++) {
                //Making artist Container div to hold artist info
                let artistContainer = document.createElement("div");
                artistContainer.setAttribute("class", "col-md") // setting this div to have bootstrap class "col", so each artists container is a responsive bootstrap coloumn
                //setting Artist Name
                let text = document.createElement("div");
                text.innerHTML = data[i].artist.name;
                text.setAttribute("class", "pt-2");
                //make anchor 
                var a = document.createElement('a');
                a.setAttribute("href", "#");
                a.setAttribute("data-toggle", "modal");
                a.setAttribute("data-target", "#infoModal");
                // setting Image
                let image = document.createElement("IMG"); //creating image element
                let src = `./img/artists-work/` + data[i].artwork.image[0].url; //variable 'src' set to first image in array
                let alt = data[i].artwork.image[0].alt; // variable 'alt' set to matching alt value
                image.setAttribute("src", src ); // set src to variable
                image.setAttribute("width", "300"); //set width
                image.setAttribute("alt", alt); //set alt to variable
                image.setAttribute("class", "pt-4");
                //adding 
                a.appendChild(image);
                artistContainer.appendChild(a); 
                artistContainer.appendChild(text); 
                mainContainer.appendChild(artistContainer);
            }
        }
    </script>

<!-- Grid row -->
    </div>

    <!-- Include Footer -->
    <div id="footer"></div>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script>
        $('#navbar').load('./components/navigation.html');
        $('#head').load('./components/head.html');
        $('#footer').load('./components/footer.html');
    </script>
</body></html>
